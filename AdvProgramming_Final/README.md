# ğŸˆ NFL Game Prediction & Interactive Dashboard

**OIM 7502 - Advanced Programming | Fall 2024**

An interactive machine learning application that predicts NFL game outcomes using historical data (2022-2023 seasons) and provides comprehensive analytics through a professional Streamlit dashboard.

---

## ğŸ‘¥ Team Members

- **Alan Garcia**
- **Jose Gonzalez**
- **Vanshika Gupta**
- **Maria Jose Zuniga**

---

## ğŸ“Š Project Overview

This project implements multiple machine learning models to predict NFL game outcomes and analyze team performance. The system includes:

- **4 ML Models**: Logistic Regression, Random Forest, KNN, and Stacked Ensemble
- **Interactive Dashboard**: 4-page Streamlit application with real-time predictions
- **Comprehensive Analysis**: Salary correlation, team rankings, and model comparisons
- **2,176 Games Analyzed**: Training on 2022-2023 seasons, testing on 2024 season

---

## ğŸ¯ Key Results

### Model Performance

| Model | Test Accuracy | Ranking Correlation (Ï) |
|-------|--------------|------------------------|
| **Logistic Regression** | **72.9%** | 0.815 |
| **Random Forest** | **71.5%** | **0.830** â­ |
| KNN | 61.2% | 0.635 |
| Stacked Ensemble | 62.5% | 0.666 |

### Key Findings

- **Best Model**: Logistic Regression achieved 72.9% accuracy on 2024 season predictions
- **Best Ranking Predictor**: Random Forest (Spearman Ï = 0.830)
- **Salary Correlation**: Moderate correlation between team salary and performance (r = 0.475)
- **Top Features**: `win_pct` (11.5%), `opp_win_pct` (11.6%), `rushing_epa` (4.6%)

---

## ğŸš€ Quick Start

### Prerequisites

```bash
Python 3.12+
pip (Python package manager)
```

### Installation

```bash
# Clone the repository
git clone https://github.com/mjozuniga/OIM_7502_classwork.git
cd OIM_7502_classwork/AdvProgramming_Final

# Install dependencies
pip install pandas numpy scikit-learn scipy matplotlib seaborn openpyxl streamlit plotly
```

### Running the Dashboard

```bash
# Navigate to streamlit app
cd streamlit_app

# Launch the dashboard
streamlit run app.py
```

The dashboard will open automatically at: **http://localhost:8501**

---

## ğŸ“ Project Structure

```
AdvProgramming_Final/
â”œâ”€â”€ data/                              # All data files
â”‚   â”œâ”€â”€ global_team_games_2.xlsx       # Historical game data (2022-2024)
â”‚   â”œâ”€â”€ nfl_dictionaries_2.xlsx        # Data dictionary
â”‚   â”œâ”€â”€ nfl_salary_by_team_2024_complete.csv
â”‚   â”œâ”€â”€ nfl_standings_2024.csv
â”‚   â”œâ”€â”€ rankings_lr.csv                # Generated by notebook
â”‚   â”œâ”€â”€ rankings_rf.csv
â”‚   â”œâ”€â”€ rankings_knn.csv
â”‚   â”œâ”€â”€ rankings_stack.csv
â”‚   â””â”€â”€ all_rankings_enriched.csv      # Combined rankings
â”œâ”€â”€ notebook/
â”‚   â””â”€â”€ NFL_LR_RF_KNN_Stack_Salary.ipynb  # Main analysis notebook
â”œâ”€â”€ streamlit_app/
â”‚   â”œâ”€â”€ app.py                         # Dashboard homepage
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ 1_ğŸˆ_Game_Predictor.py     # Interactive predictions
â”‚       â”œâ”€â”€ 2_ğŸ“Š_Model_Comparison.py   # Performance comparison
â”‚       â”œâ”€â”€ 3_ğŸ’°_Salary_Analysis.py    # Salary vs performance
â”‚       â””â”€â”€ 4_ğŸ†_Team_Rankings.py      # Rankings visualization
â””â”€â”€ README.md
```

---

## ğŸ¨ Dashboard Features

### 1. ğŸˆ Game Predictor
- Head-to-head team selection from all 32 NFL teams
- Real-time predictions from 3 models
- Advanced options to adjust team statistics
- Visual probability comparison

### 2. ğŸ“Š Model Comparison
- Confusion matrices for all models
- Accuracy, precision, and recall metrics
- Feature importance rankings

### 3. ğŸ’° Salary Analysis
- Interactive scatter plots: Salary vs Win %
- Correlation analysis (Pearson r = 0.475)
- Team-by-team breakdown

### 4. ğŸ† Team Rankings
- Predicted vs Actual rankings
- Interactive sortable table
- Model comparison across rankings

---

## ğŸ”¬ Methodology

### Feature Engineering (20 Features)
- **Win Percentage**: `win_pct`, `opp_win_pct`
- **Relative EPA**: `rel_rushing_epa`, `rel_passing_epa`, `rel_receiving_epa`
- **Defensive**: `rel_def_sacks`, `rel_def_interceptions`
- **Context**: `is_home`, `is_playoff`

### Models

#### 1. Logistic Regression
- **Accuracy**: 72.9% (test)
- **Advantage**: Best overall accuracy

#### 2. Random Forest
- **Accuracy**: 71.5% (test)
- **Parameters**: `n_estimators=100`, `max_depth=5`
- **Advantage**: Best ranking correlation (Ï = 0.830)

#### 3. K-Nearest Neighbors
- **Accuracy**: 61.2% (test)
- **Parameters**: `n_neighbors=11`, `weights='distance'`

#### 4. Stacked Ensemble
- **Accuracy**: 62.5% (test)
- **Meta-Model**: Combines all three models

---

## ğŸ’» Technologies Used

- **Python 3.12**: Primary language
- **pandas & NumPy**: Data manipulation
- **scikit-learn**: Machine learning
- **Streamlit & Plotly**: Interactive dashboard
- **SciPy**: Statistical analysis

---

## ğŸ” Key Insights

1. **Logistic Regression** performed best (72.9%) despite being the simplest model
2. **Win percentage** is the strongest predictor of game outcomes
3. **Salary** shows moderate correlation (r = 0.475) with performance
4. **Random Forest** best predicts team rankings (Ï = 0.830)

---

## ğŸ“§ Contact

**Course**: OIM 7502 - Advanced Programming  
**Semester**: Fall 2024  
**Institution**: Babson College

---

**Last Updated**: November 27, 2024  
**Status**: âœ… Complete and Ready for Submission
